---
title: 给微信公众号接入聊天小助手
date: 2023-11-05 16:13:03
updated: 2024-08-15 22:35:58
tags: essay
---
# 前言：

之前chatgpt很火，那个时候看到有博主把chatgpt接入到微信上，就想自己是不是也可以弄一下，这样可以让没用过chatgpt的人也玩一玩。今天就去研究了下，发现问题很多，体验还不好，最后还是放弃了（主要是懒）。

微信公众号对响应时间有限制，而且也限制了chatgpt的使用，可能会封号。而且因为国内无法使用chatgpt的服务，必须还弄一台国外的服务器，在通过微信公众号后台去对接下，感觉比较麻烦就放弃了。

不过，用不了高智能的聊天机器人，弄个不那么智能的机器人放到微信公众号还是可以吧？

我就去网上找了找资料，发现两种比较好的方式。

1.微信公众号就有相应的聊天机器人，小功能还挺多，直接对接一下就可以用

2.WELM是腾讯开放的一个自动补全的AI，可以用来续写文章之类的，也可以提供上下文实现聊天功能

今天要讲的就是第一种方式，直接使用微信对话开放平台的聊天机器人。

# 步骤：

1.首先进入到微信对话开放平台的网址，并且扫码登录

![image-20230114204442455](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/image-20230114204442455.png)

2.点击配置机器人

![image-20230114204631154](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/image-20230114204631154.png)

3.点击左边的【对话配置】-【预置技能】

**![image-20230114204727954](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/image-20230114204727954.png)**

4.把你觉得会用到的技能给点上，技能下面的小绿点右边的文字就是触发该技能的咒语

只要和机器人对话的时候，输入咒语就会得到相应的回复

![image-20230114204855285](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/image-20230114204855285.png)

以上的步骤设置完毕，然后发布其实聊天机器人基本上就可以玩了，但是它却不能回答最简单的

【你好。你是男的还是女的。你叫什么名字。】这种简单的问题。因为这些预置技能只会被咒语给触发，

所以我们在跳到第5步设置一下，让它看起来更加人性化一点。

5.点击左侧的【对话策略】-【兜底回复】，选择【闲聊】

这样，当机器人遇到不是咒语的话语时，能使用聊天机器人来回复用户。

![image-20230114205317298](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/image-20230114205317298.png)

6.绑定公众号，点击【发布管理】-【应用绑定】，选择自己的公众号或者其他应用

![image-20230114205558144](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/image-20230114205558144.png)

7.点击【发布管理】-【上线发布】，点击右侧的【发布】

**注意：如果自己修改了机器人的配置，要记得重新发布下，这样新的功能才会生效。**

怎么样，使用微信对话开放平台添加一个机器人还是非常简单的吧。到这里你已经得到了一个不是那么智能的人工智能了，可以和他/她愉快的聊天了！



# 展示效果

1.普通聊天的效果

![聊天1](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/%E8%81%8A%E5%A4%A91.jpg)

2.预置技能的效果

![技能2](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/%E6%8A%80%E8%83%BD2.jpg)

不要觉得奇怪为啥两边头像一样的，因为我公众号就是用的我微信的头像，哈哈哈。



# 后续：

1.如果还想加一些其他的功能，可以看看微信平台的说明文档，还能设置更加复杂的聊天【对话配置】-【简单问答】/【高级技能】都可以继续设置

![image-20230114211121641](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/image-20230114211121641.png)

2.上文说道的WELM, 我也试了下，但是也得自己弄一台服务器然后用微信公众号对接一下，功能比微信自带的聊天机器人要强大一些。

可以拥有知道上下文的能力，不过得在传参数的时候把原来的上下文带过去，这样它会补全剩下要回答的内容，大致调用是这样，暂时不打算对接这个了，因为给用户的体验上来说提升不是特别大。

![image-20230114211409741](https://wxwwt-oss.oss-cn-hangzhou.aliyuncs.com/imgRepo/image-20230114211409741.png)



# 参考资料

1.[微信对话开放平台](https://openai.weixin.qq.com/)

2.[WeLM简介及微信公众号开发](https://cloud.tencent.com/developer/article/2162505)